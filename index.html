<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Japanese Conjugation Trainer</title>
  <style>
    body { font-family: Inter, system-ui, sans-serif; background:#f1f5f9; margin:0; padding:24px; }
    .card { max-width: 760px; margin: 0 auto; background:#fff; border-radius:16px; box-shadow:0 10px 30px rgba(2,6,23,.08); padding:24px; }
    input, button { font-size:16px; padding:10px 12px; border-radius:10px; border:1px solid #cbd5e1; }
    button { background:#4f46e5; border:none; color:#fff; cursor:pointer; }
    button.secondary { background:#fff; color:#334155; border:1px solid #cbd5e1; }
    .row { display:flex; gap:8px; }
    .result { margin-top:12px; padding:10px; border-radius:10px; }
    .ok { background:#ecfdf5; color:#047857; }
    .bad { background:#fef2f2; color:#b91c1c; }
    .muted { color:#64748b; }
  </style>
</head>
<body>
  <div class="card">
    <h1>Japanese Conjugation Trainer ğŸ‡¯ğŸ‡µ</h1>
    <p class="muted">Practice polite forms: ã€œã¾ã™ / ã€œã¾ã›ã‚“ / ã€œã¾ã—ãŸ / ã€œã¾ã›ã‚“ã§ã—ãŸ</p>
    <p id="score" class="muted"></p>

    <h2 id="verb"></h2>
    <p id="meta" class="muted"></p>
    <p><strong id="target"></strong></p>

    <div class="row">
      <input id="answer" placeholder="Type in hiragana..." style="flex:1" />
      <button id="check">Check</button>
      <button id="next" class="secondary">Next</button>
    </div>

    <div id="result"></div>
  </div>

<script>
const verbs = [
  {d:'ãŸã¹ã‚‹',m:'to eat',t:'ichidan'}, {d:'ã¿ã‚‹',m:'to see',t:'ichidan'}, {d:'ãŠãã‚‹',m:'to wake',t:'ichidan'},
  {d:'ã‹ã',m:'to write',t:'godan'}, {d:'ã®ã‚€',m:'to drink',t:'godan'}, {d:'ã¯ãªã™',m:'to speak',t:'godan'},
  {d:'ã‚ˆã‚€',m:'to read',t:'godan'}, {d:'ã„ã',m:'to go',t:'godan'}, {d:'ã™ã‚‹',m:'to do',t:'irr'}, {d:'ãã‚‹',m:'to come',t:'irr'}
];
const forms = ['masu','masen','mashita','masendeshita'];
const labels = {masu:'Polite present (ã€œã¾ã™)', masen:'Polite negative (ã€œã¾ã›ã‚“)', mashita:'Polite past (ã€œã¾ã—ãŸ)', masendeshita:'Polite past negative (ã€œã¾ã›ã‚“ã§ã—ãŸ)'};
const iMap = {'ã†':'ã„','ã':'ã','ã':'ã','ã™':'ã—','ã¤':'ã¡','ã¬':'ã«','ã¶':'ã³','ã‚€':'ã¿','ã‚‹':'ã‚Š'};

let current, form, score={c:0,t:0};
const $ = (id)=>document.getElementById(id);

function stem(v){
 if(v.t==='irr') return v.d==='ã™ã‚‹'?'ã—':'ã';
 if(v.t==='ichidan') return v.d.slice(0,-1);
 return v.d.slice(0,-1)+iMap[v.d.slice(-1)];
}
function conjugate(v,f){ const s=stem(v); if(f==='masu') return s+'ã¾ã™'; if(f==='masen') return s+'ã¾ã›ã‚“'; if(f==='mashita') return s+'ã¾ã—ãŸ'; return s+'ã¾ã›ã‚“ã§ã—ãŸ'; }
function rand(a){ return a[Math.floor(Math.random()*a.length)]; }
function render(){
 $('verb').textContent = current.d;
 $('meta').textContent = `${current.m} â€¢ ${current.t}`;
 $('target').textContent = labels[form];
 $('score').textContent = `Score: ${score.c} / ${score.t}`;
 $('answer').value=''; $('result').innerHTML=''; $('answer').focus();
}
function nextQ(){ current = rand(verbs); form = rand(forms); render(); }

$('check').onclick = ()=>{
  const a = $('answer').value.trim(); if(!a) return;
  const correct = conjugate(current, form);
  score.t += 1;
  if(a===correct){ score.c += 1; $('result').innerHTML = `<div class='result ok'>Correct! ğŸ‰</div>`; }
  else $('result').innerHTML = `<div class='result bad'>Not quite. Correct answer: <strong>${correct}</strong></div>`;
  $('score').textContent = `Score: ${score.c} / ${score.t}`;
};
$('next').onclick = nextQ;
$('answer').addEventListener('keydown', (e)=>{ if(e.key==='Enter') $('check').click(); });
nextQ();
</script>
</body>
</html>
